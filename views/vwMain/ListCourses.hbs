{{#section 'css'}}
<style>
    .list-course {
        max-width: 1140px;
    }
</style>
{{/section}}


{{#section 'js'}}

{{/section}}

<div class="container-fluid mt-4 list-course">

    {{#if empty}}
    <div class="row">
        <div class="col-sm-12">
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Recipient's username"
                    aria-label="Recipient's username" aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2">Search</button>
            </div>

        </div>
    </div>
    <div class="row">

        <div class="col-sm-3">
            <div class="card mb-3">
                <h4 class="card-header">Categories</h4>
                <div class="list-group list-group-flush  ">

                    {{#each courseInCat }}


                    <a href="/course-list/byCat/{{this.catID}}?page=1" class="list-group-item list-group-item-action      {{#if isActive}}
                           active
                       {{/if}}  ">
                        {{this.catName}}


                        {{#ifCond this.CourseCount '!=' 0}}
                        <span class="badge badge-pill badge-danger float-right mt-1">
                            {{this.CourseCount}}
                        </span>
                        {{/ifCond}}

                    </a>

                    {{/each}}


                </div>
            </div>

        </div>
        <div class="col-sm-9">
            <div class="card">
                <div class="card-header">
                    <h4>
                        List Courses
                        <span class="float-right">

                            <ul class="navbar-nav ml-auto">
                                <form action="/user/logout" method="POST" id="fmLogout">
                                    <li class="nav-item dropdown">
                                        <a class="nav-link " href="#" id="navbarDropdownBlog" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false">
                                            <i class="fa fa-filter"></i>Sort By
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right"
                                            aria-labelledby="navbarDropdownBlog">

                                            <a class="dropdown-item" href="#">
                                                <i class="fa fa-money mr-2"></i>Price
                                            </a>

                                            <a class="dropdown-item" href="#;">
                                                <i class="fa fa-star mr-2"></i>Star
                                            </a>

                                        </div>
                                    </li>
                                </form>
                            </ul>

                        </span>
                    </h4>

                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <h5>List Courses Are Empty!</h5>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-muted">
                    {{#if showPagi}}
                    <div class="row">

                        <div class="col-sm-12 col-lg-12 ">
                            <div aria-label="Page navigation example  ">
                                <ul class="pagination justify-content-end">

                                    <li class="page-item  {{#unless can_go_prev}} disabled {{/unless}} "><a
                                            class="page-link" href="?page={{go_previous_page}}">Previous</a></li>
                                    {{#each pagiItem }}
                                    <li class="page-item {{#if isActive}} active{{/if}}"><a class="page-link"
                                            href="?page={{this.value}}">
                                            {{this.value}}
                                        </a></li>

                                    {{/each}}




                                    <li class="page-item {{#unless can_go_next}} disabled {{/unless}}"><a
                                            class="page-link" href="?page={{go_next_page}}">Next</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    {{/if}}
                </div>
            </div>
        </div>
    </div>
    {{else}}
    <div class="row">
        <div class="col-sm-12">
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Recipient's username"
                    aria-label="Recipient's username" aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2">Search</button>
            </div>

        </div>
    </div>
    <div class="row">

        <div class="col-sm-3">
            <div class="card mb-3">
                <h4 class="card-header">Categories</h4>
                <div class="list-group list-group-flush  ">

                    {{#each courseInCat }}


                    <a href="/course-list/byCat/{{this.catID}}?page=1" class="list-group-item list-group-item-action      {{#if isActive}}
                           active
                       {{/if}}  ">
                        {{this.catName}}


                        {{#ifCond this.CourseCount '!=' 0}}
                        <span class="badge badge-pill badge-danger float-right mt-1">
                            {{this.CourseCount}}
                        </span>
                        {{/ifCond}}

                    </a>

                    {{/each}}


                </div>
            </div>

        </div>
        <div class="col-sm-9">
            <div class="card">
                <div class="card-header">
                    <h4>
                        List Courses
                        <span class="float-right">

                            <ul class="navbar-nav ml-auto">
                                <form action="/user/logout" method="POST" id="fmLogout">
                                    <li class="nav-item dropdown">
                                        <a class="nav-link " href="#" id="navbarDropdownBlog" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false">
                                            <i class="fa fa-filter"></i>Sort By
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right"
                                            aria-labelledby="navbarDropdownBlog">

                                            <a class="dropdown-item" href="#">
                                                <i class="fa fa-money mr-2"></i>Price
                                            </a>

                                            <a class="dropdown-item" href="#;">
                                                <i class="fa fa-star mr-2"></i>Star
                                            </a>

                                        </div>
                                    </li>
                                </form>
                            </ul>

                        </span>
                    </h4>

                </div>
                <div class="card-body">
                    <div class="row">
                        {{#each allCourse }}
                        <div class="col-lg-4">
                            <div class="card mb-5">
                                <img class="card-img-top" src="{{this.avatar}}" alt="Card image cap">
                                <div class="card-body">
                                    <h4 class="card-title text-dark font-weight-bolder">
                                        {{this.title}}
                                    </h4>


                                    {{#if_equal this.catLevel 1 }}

                                    <p class="card-text text-primary"> <span class="font-weight-bolder">Type:
                                        </span>Mobile Development</p>
                                    {{else}}
                                    <p class="card-text text-primary"><span class="font-weight-bolder">Type: </span> Web
                                        Development</p>
                                    {{/if_equal}}

                                    <p class="card-text text-secondary">
                                        <span class="font-weight-bolder"> Instructor:</span> {{this.userName}}
                                    </p>
                                    <p class="card-text text-success">
                                        <span class="font-weight-bold"> Rating:</span>
                                        {{#if_equal this.rating 'NaN'}}
                                        No Rating
                                        {{else}}
                                        {{this.rating}}
                                        {{/if_equal}}
                                        <span class="badge badge-success text-md">
                                            Total Student Rating: {{this.countPeopleRating}}
                                        </span>
                                    </p>



                                    {{#ifCond this.discount '!=' 0}}
                                    <p class="card-text text-warning">
                                        <span class="font-weight-bolder"> Discount:</span> {{this.discount}}%
                                    </p>

                                    {{else}}

                                    {{/ifCond}}
                                    </p>



                                    <p class="card-text text-danger">
                                        <span class="font-weight-bold"> Fee:</span> {{format this.fee}} VNĐ
                                    </p>
                                </div>
                                <div class="card-footer">

                                    {{#if ../isAuth}}
                                    <a href="#" class="card-link btn btn-info">
                                        <i class="fa fa-info mr-2 "></i>Detail
                                    </a>
                                    <a href="#" class="card-link btn btn-success">
                                        <i class="fa fa-cart-plus mr-2 "></i>Buy
                                    </a>

                                    {{else}}
                                    <a href="#" class="card-link btn btn-info w-100">
                                        <i class="fa fa-info mr-2 "></i>Detail
                                    </a>

                                    {{/if}}
                                </div>
                            </div>
                        </div>
                        {{/each}}
                    </div>
                </div>
                <div class="card-footer text-muted">
                    {{#if showPagi}}
                    <div class="row">

                        <div class="col-sm-12 col-lg-12 ">
                            <div aria-label="Page navigation example  ">
                                <ul class="pagination justify-content-end">

                                    <li class="page-item  {{#unless can_go_prev}} disabled {{/unless}} "><a
                                            class="page-link" href="?page={{go_previous_page}}">Previous</a></li>
                                    {{#each pagiItem }}
                                    <li class="page-item {{#if isActive}} active{{/if}}"><a class="page-link"
                                            href="?page={{this.value}}">
                                            {{this.value}}
                                        </a></li>

                                    {{/each}}




                                    <li class="page-item {{#unless can_go_next}} disabled {{/unless}}"><a
                                            class="page-link" href="?page={{go_next_page}}">Next</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    {{/if}}
                </div>
            </div>
        </div>
    </div>
    {{/if}}


</div>